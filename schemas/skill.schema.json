{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://skillhub.ching-tech.os/schemas/skill.schema.json",
  "title": "SkillHub Skill Metadata",
  "description": "JSON Schema for SKILL.md frontmatter used by SkillHub. Note: the markdown body of SKILL.md (human-readable docs and AI prompt examples) is outside this schema's validation scope and should be present in each SKILL.md.",
  "type": "object",
  "required": ["name","version","description","author","entrypoint"],
  "properties": {
    "name": {
      "type": "string",
      "pattern": "^[a-z0-9][a-z0-9-]*$",
      "description": "Unique skill identifier (lowercase, hyphens allowed)."
    },
    "version": {
      "type": "string",
      "pattern": "^\\d+\\.\\d+\\.\\d+$",
      "description": "Semantic version string (e.g. 1.0.0)."
    },
    "description": {"type":"string","minLength":1},
    "author": {"type":"string","minLength":1},
    "entrypoint": {"type":"string","description":"Relative path to the main executable or script (e.g. run.py)."},
    "tags": {"type":"array","items":{"type":"string"}},
    "license": {"type":"string","description":"SPDX license identifier."},
    "homepage": {"type":"string","format":"uri"},
    "compatibility": {
      "type":"object",
      "properties": {
        "platforms": {"type":"array","items":{"type":"string"}}
      },
      "additionalProperties": false
    },
    "files": {"type":"array","items":{"type":"string"}},
    "checksum": {"type":"string","description":"SHA-256 checksum of the packaged skill artifact."},
    "dependencies": {"type":"array","items":{"type":"object","required":["name","version"],"properties":{"name":{"type":"string"},"version":{"type":"string"}}}},
    "metadata": {
      "type": "object",
      "properties": {
        "openclaw": {
          "type": "object",
          "properties": {
            "emoji": {"type":"string"},
            "requires": {
              "type": "object",
              "properties": {
                "bins": {"type":"array","items":{"type":"string"}},
                "env": {"type":"array","items":{"type":"string"}},
                "optional_bins": {"type":"array","items":{"type":"string"}}
              },
              "additionalProperties": false
            },
            "primaryEnv": {"type":"string"},
            "install": {
              "type": "array",
              "items": {
                "type": "object",
                "required": ["id","kind"],
                "properties": {
                  "id": {"type":"string"},
                  "kind": {"type":"string"},
                  "formula": {"type":"string"},
                  "bins": {"type":"array","items":{"type":"string"}},
                  "label": {"type":"string"}
                },
                "additionalProperties": false
              }
            }
          },
          "additionalProperties": false
        }
      },
      "additionalProperties": false
    },
    "ctos": {
      "type": "object",
      "description": "DEPRECATED: CTOS-specific settings should be managed by system-side configuration (templates/skill-config.yaml.example). Do not include CTOS runtime bindings in SKILL.md.",
      "additionalProperties": true
    }
  },
  "additionalProperties": false
}
